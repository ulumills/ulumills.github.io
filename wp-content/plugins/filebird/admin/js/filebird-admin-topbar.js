window.wp=window.wp||{},function(e){"use strict";var i=wp.media;if(i){i.view.AttachmentFilters.Taxonomy=i.view.AttachmentFilters.extend({tagName:"select",createFilters:function(){var i={};_.each(filebird_taxonomies.folder.term_list||{},function(t,r){var a=t.term_id,l=e("<div/>").html(t.term_name).text();i[a]={text:l,priority:r+2},i[a].props={},i[a].props[filebird_folder]=a}),i.all={text:filebird_taxonomies.folder.list_title,priority:1},i.all.props={},i.all.props[filebird_folder]=null,this.filters=i}});var t=i.view.AttachmentsBrowser;i.view.AttachmentsBrowser=i.view.AttachmentsBrowser.extend({createToolbar:function(){var i=jQuery.Deferred();this.$el.data("backboneView",this),this._treeLoaded=i,t.prototype.createToolbar.apply(this,arguments);var r=new wp.media.view.AttachmentFilters.Taxonomy({className:"wpmediacategory-filter attachment-filters",controller:this.controller,model:this.collection.props,priority:-75}).render();setTimeout(()=>{if(!jQuery(".menu-icons-upgrade-hestia").length&&!e("body.wp-admin.upload-php").length){var i=this.views.parent,t=i.views;if(t.view.menuView){i.$el.find(".fb-treeview-loading").length||t.view.menuView.views.add(new wp.media.View({className:"fb-treeview",el:'<a href="#" class="fb-treeview-loading media-menu-item">Filebird is loading <span class="spinner"></span></a>'}));var r=e(i.$el).attr("id");e("#"+r).find("#filebird_sidebar").length&&e(".fb-treeview-loading").hide(),i.$el.addClass("filebird-treeview").removeClass("hide-menu not-show")}}},50),this.toolbar.set("folder-filter",r),r.initialize()}}),i.view.UploaderInline=i.view.UploaderInline.extend({prepare:function(){setTimeout(()=>{if(!e("body.wp-admin.upload-php").length){var i=this.views.parent;i&&i.$el&&i.$el.addClass("filebird-treeview not-show").removeClass("hide-menu")}},50)}})}}(jQuery);